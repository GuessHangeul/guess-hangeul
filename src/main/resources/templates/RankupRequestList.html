<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/common/defaultLayout}">
<head>
    <meta charset="UTF-8">
    <title>집현전 신청 목록</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
</head>
<body>
<div layout:fragment="content">
    <div class="p-5 mb-5 text-center bg-light">
        <h1 class="mb-3">집현전 신청</h1>
    </div>
    <div class="container">

        <table class="table" id="userTable">
            <thead>
            <tr>
                <th onclick="sortTable(0)">사용자 ID</th>
                <th onclick="sortTable(1)">닉네임</th>
                <th onclick="sortTable(2)">등 급</th>
                <th onclick="sortTable(3)">점 수</th>
                <th onclick="sortTable(4)">가입 일자</th>
                <th onclick="sortTable(5)">신청 시간</th>
                <th onclick="sortTable(6)">접속 횟수</th>
                <th onclick="sortTable(7)">처리 상태</th>
            </tr>
            </thead>
            <tbody>
            <!--id 갯수 만큼 반복-->
            <tr class="content" th:each="board_manager_apply : ${list}">
                <td class="userId" th:text="${board_manager_apply.users.userId}"></td>
                <td th:text="${board_manager_apply.users.nickname}"></td>
                <td th:text="${board_manager_apply.users.authority}"></td>
                <td th:text="${board_manager_apply.users.score}"></td>
                <td th:text="${board_manager_apply.users.createdAt}"></td>
                <td th:text="${board_manager_apply.createdAt}"></td>
                <td th:text="${board_manager_apply.users.connectCount}"></td>
                <td th:if="${board_manager_apply.status == 0}">
                    <button class="approved" id="approve-btn" type="button" onclick="approve(this)">윤허</button>
                    <button class="rejected" id="reject-btn" type="button" onclick="rejected(this)">거부</button>
                </td>
                <td th:if="${board_manager_apply.status == 1}">
                    허가됨
                </td>
                <td th:if="${board_manager_apply.status == -1}">
                    거부됨
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>